【尚硅谷】大厂必备技术之JUC并发编程

https://www.bilibili.com/video/BV1Kw411Z7dF

2021-07-06 08:00:15

# P1 课程介绍

尚硅谷高级技术之 JUC 高并发编程

1. JUC 概述
2. Lock 接口
3. 线程间通信
4. 线程间定制化通信
5. 集合的线程安全
6. 多线程锁
7. Callable 接口
8. JUC 强大的辅助类
9. ReentrantReadWriteLock 读写锁
10. BlockingQueue 阻塞队列
11. ThreadPool 线程池
12. Fork/Join 分支合并框架
13. CompletableFuture 异步回调

# P2 JUC 概述和进程线程概念（1）

1、JUC 概述

- 1.1 什么是 JUC

  - （0：39）

    java.util.concurrent 工具包

    JDK 1.5 开始出现的

- 1.2 线程和进程概念

  - 进程与线程

    - （2:13）

      进程：指在系统中正在运行的一个应用程序；程序一旦运行就是进程；进程——资源分配的最小单位

      线程：系统分配处理器时间资源的基本单位，或者说进程之内独立执行的一个单元执行流。线程——程序执行的最小单位

  - 线程的状态

    - （4：53）

      Thread.State

      - NEW（新建）
      - RUNNABLE（准备就绪）
      - BLOCKED（阻塞）
      - WAITING（等待）
      - TIMED_WAITING（计时等待）
      - TERMINATED（终结）

  - wait 和 sleep

    - （7：18）
      1. sleep 是 Thread 的静态方法，wait 是 Object 的方法
      2. sleep 不会释放锁，它也不需要占用锁。wait 会释放锁，但调用它的前提是当前线程占有锁（即代码要在 synchronized 中）
      3. 它们都可以被 interrupted 方法中断

  - 并发和并行

    - （8：47）

      串行是一次只能取得一个任务，并执行这个任务

      并行意味着可以同时取得多个任务，并同时去执行所取得的这些任务。

      并发（concurrent）指的是多个程序可以同时运行的现象，更细化的是多进程可以同时运行或者多指令可以同时运行。 

      小结：

      并发：同一时刻多个线程在访问同一个资源

      并行：多项工作一起执行，之后再汇总

  - 管程

  - 用户线程和守护线程

# P3 JUC 概述和进程线程概念（2）

管程

- Monitor 监视器
- 是一种同步机制，保证同一个时间，只有一个线程访问被保护数据或者代码
- JVM 同步基于进入和退出，使用管程对象实现的

# P4 JUC 概述和进程线程概念（3）

用户线程和守护线程

- Thread.setDeamon()
- 用户线程：自定义线程
  - 主线程结束了，用户线程还在运行，JVM 存活
- 守护线程：比如垃圾回收
  - 没有用户线程了，都是守护线程，JVM 结束

# P5 Synchronized 复习和案例分析

2、Lock 接口

- 2.1 复习 Synchronized
  - synchronized 作用范围
    - （1：01）
      1. 修饰一个代码块，同步语句块
      2. 修饰一个方法，同步方法
      3. 修饰一个静态方法
      4. 修饰一个类
  - synchronized 实现卖票例子
  - 多线程编程步骤（上）
    - 第一 创建资源类，创建属性和操作方法
    - 第二 创建多线程调用资源类的方法
- 2.2 什么是 Lock 接口
- 2.3 创建线程的多种方式
- 2.4 使用 Lock 实现卖票例子

# P6 synchronized 实现案例

# P7 Lock 接口概述和实现案例

2.2 什么是 Lock 接口（4：18）

- Lock 接口介绍
- Lock 实现可重入锁